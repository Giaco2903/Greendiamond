<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Diamond - Tienda Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
       .hero {
    position: relative;
    height: 100vh;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center; /* Cambia a center para centrar el contenido */
}
.hero-background-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
    filter: brightness(0.5); /* Oscurece la imagen para que el texto destaque */
}
.logo-header {
    position: absolute;
    top: 10px; /* Reduce el top para pegarlo más arriba */
    left: 10px; /* Reduce el left para pegarlo más a la izquierda */
    z-index: 1;
}
.logo-header img {
    max-height: 150px;
    width: auto;
    transform: none; /* Elimina el escalado para mantener proporciones naturales */
}
}
.hero-content {
    position: relative;
    z-index: 1;
    text-align: center; /* Asegura que el texto dentro esté centrado */
    color: white;
    padding: 0 20px;
    max-width: 800px;
    margin-left: 0; /* Elimina el margen izquierdo para centrar */
}
.hero-content h1 {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
    line-height: 1.2;
}
.hero-content h2 {
    font-size: 2.5rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    color: #D1FAE5; /* Verde claro para contraste */
}
.hero-content p {
    font-size: 1.25rem;
    margin-bottom: 2.5rem;
    line-height: 1.6;
}
.btn {
    display: inline-block;
    padding: 12px 24px;
    margin: 0 10px;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: background-color 0.3s;
}
.btn-primary {
    background-color: #15803D;
    color: white;
}
.btn-primary:hover {
    background-color: #14532D;
}
.btn-secondary {
    background-color: #F59E0B;
    color: white;
}
.btn-secondary:hover {
    background-color: #D97706;
}
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <header class="hero">
        <img src="Portada.jpg" alt="Fondo de cafeto" class="hero-background-image">
        <!-- Navbar con logo y menú dentro del header -->
        <nav class="absolute top-0 left-0 w-full bg-transparent text-white p-4 z-10">
            <div class="container mx-auto flex justify-between items-center">
                <!-- Logo en lugar del texto -->
                <a href="index.html" aria-label="Volver al inicio">
                    <img src="Logo-3.png" alt="Green Diamond Logo" class="h-12">
                </a>
                <div class="space-x-8">
                    <button onclick="showTab('about')" class="hover:underline tab-link">Sobre Nosotros</button>
                    <button onclick="showTab('products')" class="hover:underline tab-link">Compra Café Verde</button>
                    <button onclick="showTab('auction')" class="hover:underline tab-link">Subasta</button>
                    <button onclick="showTab('cart')" class="hover:underline tab-link">Carrito (<span id="cart-count">0</span>)</button>
                    <button onclick="showTab('contact')" class="hover:underline tab-link">Contacto</button>
                </div>
            </div>
        </nav>
        <!-- Contenido central del hero -->
        <div class="hero-content">
            <h1>Café verde de especialidad</h1>
            <h2>Valor en cada grano</h2>
            <p>Abastecimiento de las mejores variedades de café con trazabilidad completa. Desde la finca hasta tu tostador.</p>
          
        </div>
    </header>

    <!-- Tab Contents -->
    <div id="tab-contents" class="container mx-auto py-12">
        <!-- About Tab -->
        <section id="about-tab" class="tab-content">
            <h2 class="text-3xl font-bold text-center mb-8">Nuestra Pasión por el Café</h2>
            <p class="text-lg max-w-2xl mx-auto mb-6">Desde 1978, en Green Diamond buscamos la perfección en cada grano. Trabajamos mano a mano con productores para ofrecer cafés de calidad con perfiles únicos, respetando la sostenibilidad y la trazabilidad desde el origen hasta tu taza.</p>
            <p class="text-lg max-w-2xl mx-auto">Nuestras gamas, como Terras, Constelaciones y Únicos, reflejan la diversidad y riqueza de las regiones cafeteras del mundo.</p>
        </section>

        <!-- Products Tab (Improved Green Coffee Shop with Varietals) -->
        <section id="products-tab" class="tab-content hidden">
            <h2 class="text-3xl font-bold text-center mb-8 text-red-600">Tienda de café verde</h2>
            <p class="text-center mb-6">Explora nuestro catálogo de café verde y descubre una cuidadosa selección de los mejores granos provenientes de los orígenes con los que trabajamos.</p>
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Sidebar Filters (Expanded) -->
                <aside class="w-full lg:w-1/4 bg-yellow-100 p-4 rounded-lg">
                    <h3 class="text-xl font-bold mb-4">Filtros</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium">Buscar Café</label>
                            <input type="text" id="search-input" class="mt-1 p-2 w-full border rounded-md bg-white" placeholder="BUSCAR CAFÉ">
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Situación</label>
                            <select id="filter-status" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Origen</label>
                            <select id="filter-origin" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Región Cafetera</label>
                            <select id="filter-region" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Gama</label>
                            <select id="filter-gama" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Proceso</label>
                            <select id="filter-process" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Tipo de Proceso</label>
                            <select id="filter-process-type" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Perfil</label>
                            <select id="filter-profile" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Descriptor Clave</label>
                            <select id="filter-descriptor" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Certificaciones</label>
                            <select id="filter-certifications" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Peso Envase</label>
                            <select id="filter-package-weight" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium">Precio Especial</label>
                            <select id="filter-special-price" class="mt-1 p-2 w-full border rounded-md bg-white">
                                <!-- Options generated by JS -->
                            </select>
                        </div>
                    </div>
                </aside>

                <!-- Main Content with Varietals Section -->
                <div class="w-full lg:w-3/4">
                    <div class="bg-yellow-100 p-4 rounded-lg mb-6">
                        <p class="font-bold">Importante:</p>
                        <p>Para realizar la compra y ver los precios de los productos es necesario estar registrado y validado. Disponemos de un Roaster Service para guiarte y asesorarte si lo necesitas.</p>
                    </div>
                    <div class="mb-6">
                        <h3 class="text-xl font-bold mb-4">Varietales Disponibles</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-white p-4 rounded-lg shadow-md">
                                <img src="https://via.placeholder.com/300x200?text=Heirloom" alt="Heirloom" class="w-full h-48 object-cover rounded-md mb-2">
                                <h4 class="text-lg font-semibold">Heirloom</h4>
                                <p class="text-gray-600">Variedad tradicional de Etiopía, conocida por sus notas afrutadas y complejidad.</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-md">
                                <img src="https://via.placeholder.com/300x200?text=Bourbon" alt="Bourbon" class="w-full h-48 object-cover rounded-md mb-2">
                                <h4 class="text-lg font-semibold">Bourbon</h4>
                                <p class="text-gray-600">Variedad clásica de El Salvador, con sabores dulces y afrutados.</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-md">
                                <img src="https://via.placeholder.com/300x200?text=Caturra+Amarillo" alt="Caturra Amarillo" class="w-full h-48 object-cover rounded-md mb-2">
                                <h4 class="text-lg font-semibold">Caturra Amarillo</h4>
                                <p class="text-gray-600">Variedad rara de El Salvador, destaca por su perfil floral y delicado.</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-md">
                                <img src="https://via.placeholder.com/300x200?text=Castillo" alt="Castillo" class="w-full h-48 object-cover rounded-md mb-2">
                                <h4 class="text-lg font-semibold">Castillo</h4>
                                <p class="text-gray-600">Variedad resistente de Colombia, con notas de chocolate y nueces.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Products generated by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Auction Tab (Added another item) -->
        <section id="auction-tab" class="tab-content hidden">
            <h2 class="text-3xl font-bold text-center mb-8">Subasta de Cafés Exclusivos</h2>
            <p class="text-center mb-6">Participa en nuestras subastas para adquirir variedades únicas de café verde. Ofrece tu puja y lleva a casa granos premium de orígenes selectos.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Auction Item 1 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <img src="https://via.placeholder.com/300x200?text=Café+Colombia" alt="Café Colombiano" class="w-full h-48 object-cover rounded-md mb-4">
                    <h3 class="text-xl font-semibold mb-2">Café Verde Colombiano - Huila Supremo</h3>
                    <p class="text-gray-600 mb-2">Origen: Colombia - Huila</p>
                    <p class="text-gray-600 mb-2">Proceso: Lavado</p>
                    <p class="text-gray-600 mb-2">Puntos: 88.00</p>
                    <p class="text-gray-600 mb-2">Variedad: Caturra</p>
                    <p class="text-gray-600 mb-4">Perfil: Cítrico y Frutal</p>
                    <div class="flex justify-between items-center mb-4">
                        <p class="text-lg font-bold">Puja Actual: $150.00</p>
                        <p class="text-sm text-gray-500">Tiempo Restante: <span id="auction-timer-1">24:00:00</span></p>
                    </div>
                    <input type="number" id="bid-input-1" placeholder="Tu Puja" class="w-full p-2 border rounded-md mb-4" min="151">
                    <button onclick="placeBid(1)" class="bg-green-800 text-white px-4 py-2 rounded-full hover:bg-green-900 w-full">Pujar</button>
                </div>
                <!-- Auction Item 2 (New) -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <img src="https://via.placeholder.com/300x200?text=Café+Colombia+Antioquia" alt="Café Colombiano Antioquia" class="w-full h-48 object-cover rounded-md mb-4">
                    <h3 class="text-xl font-semibold mb-2">Café Verde Colombiano - Antioquia Excelso</h3>
                    <p class="text-gray-600 mb-2">Origen: Colombia - Antioquia</p>
                    <p class="text-gray-600 mb-2">Proceso: Natural</p>
                    <p class="text-gray-600 mb-2">Puntos: 87.50</p>
                    <p class="text-gray-600 mb-2">Variedad: Castillo</p>
                    <p class="text-gray-600 mb-4">Perfil: Chocolate y Nueces</p>
                    <div class="flex justify-between items-center mb-4">
                        <p class="text-lg font-bold">Puja Actual: $140.00</p>
                        <p class="text-sm text-gray-500">Tiempo Restante: <span id="auction-timer-2">48:00:00</span></p>
                    </div>
                    <input type="number" id="bid-input-2" placeholder="Tu Puja" class="w-full p-2 border rounded-md mb-4" min="141">
                    <button onclick="placeBid(2)" class="bg-green-800 text-white px-4 py-2 rounded-full hover:bg-green-900 w-full">Pujar</button>
                </div>
                <!-- Add more if needed -->
            </div>
        </section>

        <!-- Cart Tab (Improved) -->
        <section id="cart-tab" class="tab-content hidden">
            <h2 class="text-3xl font-bold text-center mb-8">Tu Carrito</h2>
            <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                <table class="w-full table-auto">
                    <thead>
                        <tr class="bg-gray-200 text-left">
                            <th class="p-4">Imagen</th>
                            <th class="p-4">Producto</th>
                            <th class="p-4">Precio</th>
                            <th class="p-4">Cantidad</th>
                            <th class="p-4">Subtotal</th>
                           
                        </tr>
                    </thead>
                    <tbody id="cart-items">
                        <!-- Items generated by JS -->
                    </tbody>
                </table>
            </div>
            <div class="flex justify-end items-center">
                <p id="cart-total" class="text-xl font-semibold mr-4">Total: $0.00</p>
                <button id="checkout-btn" class="bg-green-800 text-white px-6 py-2 rounded-full font-semibold hover:bg-green-900">Finalizar Compra</button>
            </div>
            <div class="mt-6 bg-yellow-100 p-4 rounded-lg">
                <p class="font-bold">Nota:</p>
                <p>Los envíos se calculan al finalizar la compra. Aplica descuentos por volumen.</p>
            </div>
        </section>

        <!-- Contact Tab -->
        <section id="contact-tab" class="tab-content hidden">
            <h2 class="text-3xl font-bold text-center mb-8">Contáctanos</h2>
            <div class="max-w-lg mx-auto bg-white p-6 rounded-lg shadow-md">
                <div id="contact-form">
                    <div class="mb-4">
                        <label for="name" class="block text-sm font-medium text-gray-700">Nombre</label>
                        <input type="text" id="name" class="mt-1 p-2 w-full border rounded-md" required>
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-gray-700">Correo Electrónico</label>
                        <input type="email" id="email" class="mt-1 p-2 w-full border rounded-md" required>
                    </div>
                    <div class="mb-4">
                        <label for="message" class="block text-sm font-medium text-gray-700">Mensaje</label>
                        <textarea id="message" class="mt-1 p-2 w-full border rounded-md" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="bg-green-800 text-white px-6 py-2 rounded-full font-semibold hover:bg-green-900 w-full">Enviar</button>
                </div>
                <div class="mt-6 text-center text-gray-600">
                    <p><strong>Green Diamond.</strong></p>
                    <p>Email: greendiamond.ceo@gmail.com | Teléfono: (+34)695 616 891</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-green-800 text-white py-4 text-center">
        <div class="container mx-auto">
            <a href="#about" class="mx-2 hover:underline">Sobre Nosotros</a>
            <a href="#products" class="mx-2 hover:underline">Compra Café Verde</a>
            <a href="#auction" class="mx-2 hover:underline">Subasta</a>
            <a href="#cart" class="mx-2 hover:underline">Carrito</a>
            <a href="#contact" class="mx-2 hover:underline">Contacto</a>
        </div>
        <p class="mt-2">&copy; 2025 Green Diamond. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Tab Functionality
        function showTab(tabId) {
            // Ocultar todas las pestañas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            // Mostrar la pestaña seleccionada
            const selectedTab = document.getElementById(`${tabId}-tab`);
            selectedTab.classList.remove('hidden');
            // Desplazamiento suave a la sección
            selectedTab.scrollIntoView({ behavior: 'smooth' });
            // Actualizar clase active en los botones
            document.querySelectorAll('.tab-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Show initial tab
        showTab('about');

        // Expanded products data with more fields
        const products = [
            { id: 1, name: "Abyssinia", origin: "Etiopía", region: "Guji", gama: "Terras", process: "Natural", processType: "Seco", profile: "Afrutado", descriptor: "Frutas Tropicales", certifications: "Orgánico", packageWeight: "60kg", specialPrice: "Sí", score: 84.00, variety: "Heirloom", taste: "Afrutado", altitude: "1.900-2.200 m.s.n.m.", status: "En almacén", image: "https://via.placeholder.com/300x200?text=Abyssinia", details: "Café con notas intensas de frutas, ideal para espressos." },
            { id: 2, name: "Aladfar AGRR", origin: "El Salvador", region: "Apaneca-Ilamatepec", gama: "Constelaciones", process: "Natural", processType: "Anaeróbico", profile: "Afrutado", descriptor: "Bayas", certifications: "Rainforest Alliance", packageWeight: "69kg", specialPrice: "No", score: 88.50, variety: "Bourbon", taste: "Afrutado", altitude: "1.425-1.700 m.s.n.m.", status: "Embarcado", image: "https://via.placeholder.com/300x200?text=Aladfar+AGRR", details: "Proceso anaeróbico que resalta sabores complejos." },
            { id: 3, name: "Aladfar FMZ", origin: "El Salvador", region: "Apaneca-Ilamatepec", gama: "Únicos", process: "Natural", processType: "Fermentado", profile: "Floral", descriptor: "Flores Blancas", certifications: "Fair Trade", packageWeight: "60kg", specialPrice: "Sí", score: 87.50, variety: "Caturra Amarillo", taste: "Floral", altitude: "1.425-1.700 m.s.n.m.", status: "Embarcado", new: true, image: "https://via.placeholder.com/300x200?text=Aladfar+FMZ", details: "Variedad rara con perfil floral delicado." },
            { id: 4, name: "Terras Ethiopia", origin: "Etiopía", region: "Yirgacheffe", gama: "Terras", process: "Lavado", processType: "Húmedo", profile: "Cítrico", descriptor: "Limón", certifications: "Orgánico", packageWeight: "60kg", specialPrice: "No", score: 86.00, variety: "Heirloom", taste: "Cítrico", altitude: "1.800-2.100 m.s.n.m.", status: "En almacén", image: "https://via.placeholder.com/300x200?text=Terras+Ethiopia", details: "Café lavado con acidez brillante." },
            { id: 5, name: "Constelaciones Colombia", origin: "Colombia", region: "Huila", gama: "Constelaciones", process: "Natural", processType: "Seco", profile: "Frutal", descriptor: "Manzana", certifications: "UTZ", packageWeight: "70kg", specialPrice: "Sí", score: 89.00, variety: "Caturra", taste: "Frutal", altitude: "1.500-1.800 m.s.n.m.", status: "Embarcado", new: true, image: "https://via.placeholder.com/300x200?text=Constelaciones+Colombia", details: "Notas dulces y frutales intensas." },
        ];

        let cart = [];

        // Get unique values for filters
        function getUniqueValues(key) {
            return [...new Set(products.map(p => p[key]).filter(Boolean))];
        }

        // Populate all filters
        function populateFilters() {
            const filters = {
                'filter-status': 'status',
                'filter-origin': 'origin',
                'filter-region': 'region',
                'filter-gama': 'gama',
                'filter-process': 'process',
                'filter-process-type': 'processType',
                'filter-profile': 'profile',
                'filter-descriptor': 'descriptor',
                'filter-certifications': 'certifications',
                'filter-package-weight': 'packageWeight',
                'filter-special-price': 'specialPrice'
            };

            Object.keys(filters).forEach(selectId => {
                const select = document.getElementById(selectId);
                const values = getUniqueValues(filters[selectId]);
                select.innerHTML = '<option value="">Todos</option>' + values.map(v => `<option value="${v}">${v}</option>`).join('');
            });
        }

        // Render products with "Leer más"
        function renderProducts(filtered) {
            const productList = document.getElementById('product-list');
            productList.innerHTML = '';
            filtered.forEach(product => {
                const statusColor = product.status === 'En almacén' ? 'bg-green-500' : 'bg-yellow-500';
                const newBadge = product.new ? '<span class="bg-green-700 text-white text-xs px-2 py-1 rounded ml-2">NUEVO</span>' : '';
                const nameBgColor = product.name.includes('Abyssinia') ? 'bg-yellow-700' : 'bg-blue-900';
                const productDiv = document.createElement('div');
                productDiv.className = 'bg-yellow-100 p-4 rounded-lg shadow-md relative';
                productDiv.innerHTML = `
                    <div class="absolute top-2 right-2 ${statusColor} text-white text-xs px-2 py-1 rounded">${product.status}${newBadge}</div>
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="${nameBgColor} text-white text-center py-2 mb-2 rounded">
                        <h3 class="text-xl font-semibold">${product.name}</h3>
                        <p>${product.origin} - ${product.region}</p>
                    </div>
                    <p class="text-gray-600">${product.process}</p>
                    <p class="text-red-600 font-bold">${product.score} puntos</p>
                    <p class="text-gray-600">${product.variety}</p>
                    <p class="text-gray-600">⊙ ${product.taste}</p>
                    <p class="text-gray-600">${product.altitude}</p>
                    <button onclick="addToCart(${product.id})" class="mt-4 bg-green-800 text-white px-4 py-2 rounded-full hover:bg-green-900">Agregar al Carrito</button>
                    <button onclick="readMore(${product.id})" class="mt-2 bg-red-800 text-white px-4 py-2 rounded-full hover:bg-red-900 w-full">Leer más</button>
                `;
                productList.appendChild(productDiv);
            });
        }

        // Read more function
        function readMore(productId) {
            const product = products.find(p => p.id === productId);
            alert(`Detalles de ${product.name}:\n${product.details}`);
        }

        // Update result count
        function updateResultCount(filtered) {
            const count = filtered.length;
            document.getElementById('result-count').textContent = `1-${Math.min(12, count)} de 108 resultados`; // Simulating 108 total
        }

        // Apply filters (Expanded)
        function applyFilters() {
            let filtered = products;

            const search = document.getElementById('search-input').value.toLowerCase();
            if (search) filtered = filtered.filter(p => p.name.toLowerCase().includes(search) || p.origin.toLowerCase().includes(search));

            const status = document.getElementById('filter-status').value;
            if (status) filtered = filtered.filter(p => p.status === status);

            const origin = document.getElementById('filter-origin').value;
            if (origin) filtered = filtered.filter(p => p.origin === origin);

            const region = document.getElementById('filter-region').value;
            if (region) filtered = filtered.filter(p => p.region === region);

            const gama = document.getElementById('filter-gama').value;
            if (gama) filtered = filtered.filter(p => p.gama === gama);

            const process = document.getElementById('filter-process').value;
            if (process) filtered = filtered.filter(p => p.process === process);

            const processType = document.getElementById('filter-process-type').value;
            if (processType) filtered = filtered.filter(p => p.processType === processType);

            const profile = document.getElementById('filter-profile').value;
            if (profile) filtered = filtered.filter(p => p.profile === profile);

            const descriptor = document.getElementById('filter-descriptor').value;
            if (descriptor) filtered = filtered.filter(p => p.descriptor === descriptor);

            const certifications = document.getElementById('filter-certifications').value;
            if (certifications) filtered = filtered.filter(p => p.certifications === certifications);

            const packageWeight = document.getElementById('filter-package-weight').value;
            if (packageWeight) filtered = filtered.filter(p => p.packageWeight === packageWeight);

            const specialPrice = document.getElementById('filter-special-price').value;
            if (specialPrice) filtered = filtered.filter(p => p.specialPrice === specialPrice);

            const sort = document.getElementById('sort-select').value;
            if (sort === 'name-asc') filtered.sort((a, b) => a.name.localeCompare(b.name));
            else if (sort === 'name-desc') filtered.sort((a, b) => b.name.localeCompare(a.name));
            else if (sort === 'score-desc') filtered.sort((a, b) => b.score - a.score);
            else if (sort === 'score-asc') filtered.sort((a, b) => a.score - b.score);

            renderProducts(filtered);
            updateResultCount(filtered);
        }

        // Event listeners
        document.querySelectorAll('select[id^="filter-"], #sort-select, #search-input').forEach(el => {
            el.addEventListener('change', applyFilters);
            el.addEventListener('input', applyFilters);
        });

        // Initial populate and render
        populateFilters();
        applyFilters();

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const cartItem = cart.find(item => item.id === productId);
            if (cartItem) {
                cartItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            updateCart();
        }

        // Update cart with table rows
        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const cartCount = document.getElementById('cart-count');
            const cartTotal = document.getElementById('cart-total');
            cartItems.innerHTML = '';
            let total = 0;
            let itemCount = 0;

            cart.forEach(item => {
                const price = item.score * 0.5; // Example price
                const subtotal = price * item.quantity;
                total += subtotal;
                itemCount += item.quantity;
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="p-4"><img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded"></td>
                    <td class="p-4">${item.name}</td>
                    <td class="p-4">$${price.toFixed(2)}</td>
                    <td class="p-4">
                        <input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${item.id}, this.value)" class="w-16 p-1 border rounded">
                    </td>
                    <td class="p-4">$${subtotal.toFixed(2)}</td>
                    <td class="p-4"><button onclick="removeFromCart(${item.id})" class="text-red-600 hover:underline">Eliminar</button></td>
                `;
                cartItems.appendChild(row);
            });

            cartCount.textContent = itemCount;
            cartTotal.textContent = `Total: $${total.toFixed(2)}`;
        }

        // Update quantity
        function updateQuantity(productId, newQuantity) {
            const cartItem = cart.find(item => item.id === productId);
            if (cartItem && newQuantity > 0) {
                cartItem.quantity = parseInt(newQuantity);
                updateCart();
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        // Checkout
        document.getElementById('checkout-btn').addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Tu carrito está vacío.');
            } else {
                alert('¡Compra finalizada! Gracias por tu pedido.');
                cart = [];
                updateCart();
            }
        });

        // Contact form
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            alert(`Mensaje enviado por ${name} (${email}): ${message}`);
            e.target.reset();
        });

        // Auction place bid
        function placeBid(id) {
            const bidInput = document.getElementById(`bid-input-${id}`);
            const bid = bidInput.value;
            if (bid) {
                alert(`Puja de $${bid} colocada para el ítem ${id}. ¡Gracias por participar!`);
                bidInput.value = '';
            } else {
                alert('Ingresa una puja válida.');
            }
        }

        // Timers for auctions
        let time1 = 24 * 3600;
        setInterval(() => {
            time1--;
            const hours = Math.floor(time1 / 3600);
            const minutes = Math.floor((time1 % 3600) / 60);
            const seconds = time1 % 60;
            document.getElementById('auction-timer-1').textContent = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }, 1000);

        let time2 = 48 * 3600;
        setInterval(() => {
            time2--;
            const hours = Math.floor(time2 / 3600);
            const minutes = Math.floor((time2 % 3600) / 60);
            const seconds = time2 % 60;
            document.getElementById('auction-timer-2').textContent = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }, 1000);
    </script>
</body>
</html>
